# CLAUDE.md

本应用是基于《寿康宝鉴》中的戒期而来，作为参考

## 技术栈

- 前端：Vue3.x + Element Plus + Typescript + Tailwindcss
- 日历查询使用： lunar.js  仓库地址 https://github.com/6tail/lunar-javascript

## 戒期列表

### 1. 常规戒期
**每月日期固定，不随年份变化**
切记：以农历日期为准
以下格式为 [日期：原因1-惩罚1；原因2-惩罚2]

#### 每月固定戒期：
- **初一**：月望日-大罪；诸佛菩萨加持日-大罪
- **初二**：天地和合日-中罪
- **初三**：斗降日-中罪
- **初四**：月德日-中罪
- **初五**：会神日-中罪
- **初六**：雷斋日-中罪
- **初七**：人日-中罪
- **初八**：药师佛圣诞日-中罪；殿会日-中罪
- **初九**：玉皇大帝圣诞日-大罪
- **初十**：三元日-大罪
- **十一**：天仓开日-中罪
- **十二**：百福日-中罪
- **十三**：杨公忌日-大罪
- **十四**：四天王巡行日-中罪
- **十五**：阿弥陀佛圣诞日-大罪；月圆日-大罪；三元日-大罪
- **十六**：天地成日-中罪
- **十七**：白鹤降日-中罪
- **十八**：观世音菩萨圣诞日-中罪；杨公忌日-大罪
- **十九**：长斋日-中罪
- **二十**：天地和合日-中罪
- **廿一**：天赦日-小罪
- **廿二**：人斋日-中罪
- **廿三**：大势至菩萨圣诞日-中罪
- **廿四**：月黑日-中罪；司命奏事日-中罪
- **廿五**：小龙王会日-中罪
- **廿六**：五方神降日-中罪
- **廿七**：北斗降日-中罪
- **廿八**：人神在阴日-中罪
- **廿九**：药师佛功德日-中罪；四天王巡行日-中罪
- **三十**：释迦牟尼佛成道日-大罪；晦日-大罪；月晦日-大罪

### 2. 特殊戒期

#### 佛菩萨圣诞：
- **正月初一**：弥勒菩萨圣诞-大罪
- **二月十五**：释迦牟尼佛涅槃日-大罪
- **二月十九**：观世音菩萨圣诞-大罪
- **二月廿一**：普贤菩萨圣诞-中罪
- **四月初四**：文殊菩萨圣诞-中罪
- **四月初八**：释迦牟尼佛圣诞-大罪
- **六月初三**：韦陀菩萨圣诞-中罪
- **六月十九**：观世音菩萨成道日-大罪
- **七月十三**：大势至菩萨圣诞-中罪
- **七月三十**：地藏王菩萨圣诞-大罪
- **八月廿二**：燃灯古佛圣诞-中罪
- **九月十九**：观世音菩萨出家日-大罪
- **九月三十**：药师琉璃光如来圣诞-大罪
- **十一月初四**：佛陀归来日-中罪
- **十一月十七**：阿弥陀佛圣诞-大罪
- **十二月初八**：释迦牟尼佛成道日-大罪
- **十二月廿九**：华严菩萨圣诞-中罪

#### 传统戒期：
- **立春**：岁首-大罪
- **雨水**：天一生水-中罪
- **惊蛰**：万物复苏-大罪
- **春分**：阴阳平分-大罪
- **清明**：扫墓祭祖-大罪
- **谷雨**：雨生百谷-中罪
- **立夏**：万物生长-中罪
- **小满**：物致于此小得盈满-中罪
- **芒种**：有芒之种谷可稼种-中罪
- **夏至**：阳气最盛-大罪
- **小暑**：暑气渐热-中罪
- **大暑**：暑气最盛-中罪
- **立秋**：秋始-中罪
- **处暑**：暑气止-中罪
- **白露**：露凝而白-中罪
- **秋分**：昼夜平分-大罪
- **寒露**：露气寒冷-中罪
- **霜降**：霜始降-大罪
- **立冬**：冬始-大罪
- **小雪**：雪始小-中罪
- **大雪**：雪始大-中罪
- **冬至**：阴气最盛-大罪
- **小寒**：寒气渐小-中罪
- **大寒**：寒气最盛-中罪

### 3. 个人戒期
每逢以下日期应加倍谨慎：
- 父母生日、忌日：孝敬日-大罪
- 祖先忌日：祭祖日-大罪
- 生日：本命日-中罪
- 厄神值日：凶日-中罪

### 4. 命理相关戒期（需要结合个人八字）
- 本命日：加重-中等罪行
- 天克地冲日：极凶-大罪
- 月柱逢冲：不吉-中罪
- 日柱逢冲：凶日-中罪

### 5. 《寿康宝鉴》特别戒期说明

#### 十斋日：
每月初一、初八、十四、十五、十八、廿三、廿四、廿八、廿九、三十日

#### 观世音菩萨十斋日：
农历正月、五月、九月的三个月份，遵循十斋日制度

#### 地藏斋日：
每月三十日（如月小则廿九日）

#### 杨公忌日：
每月十三日、十八日（特别凶险之日）

#### 天戒日：
春分、夏至、秋分、冬至（四立二分二至）

#### 神佛圣诞斋戒日：
诸佛菩萨圣诞、成道、涅槃等纪念日应当斋戒清净

## 开发注意事项

1. **农历转换**：必须使用 lunar.js 准确转换公历到农历
2. **节气计算**：二十四节气需要精确计算，这些也是戒期
3. **日期验证**：农历闰月需要特别处理，月小的日期要正确计算（如廿九、三十日不存在的情况）
4. **用户界面**：
   - 日历显示需要清晰标注戒期
   - 不同等级戒期用不同颜色标识（大罪：红色；中罪：橙色；小罪：黄色）
   - 详细悬浮显示原因和罪果等级
   - 特殊戒期（六斋日、十斋日等）需要有明显的视觉标记
5. **数据结构**：
   - 戒期分为大罪、中罪、小罪三个等级
   - 每个戒期需要存储原因、罪果等级、类型（常规/特殊/个人/斋日）
   - 支持用户自定义个人戒期
   - 需要处理农历闰月和月小的特殊情况
6. **特殊功能**：
   - 六斋日、十斋日期间的汇总提醒功能
   - 杨公忌日等特别凶险日的醒目提示
   - 当前日期是否为戒期的实时判断
   - 个人八字命理戒期的自定义配置功能
7. **性能优化**：
   - 戒期数据可以预计算并缓存
   - 农历转换结果可以缓存避免重复计算
   - 大量日期查询时需要考虑性能优化

